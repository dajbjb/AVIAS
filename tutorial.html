<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kingdom App - Interactive Walkthrough</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Tutorial Specific Overrides for "Video Mode" */
        body {
            margin: 0;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            font-family: 'Montserrat', sans-serif;
        }

        #tutorial-frame {
            width: 100%;
            height: 100%;
            max-width: 450px;
            /* Mobile simulation */
            max-height: 900px;
            position: relative;
            background: #0a101e;
            box-shadow: 0 0 50px rgba(212, 175, 55, 0.2);
            overflow: hidden;
            border-radius: 20px;
        }

        /* Cursor Simulation */
        .fake-cursor {
            position: absolute;
            width: 20px;
            height: 20px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            transition: top 0.5s ease-in-out, left 0.5s ease-in-out, transform 0.1s;
        }

        .fake-cursor.click {
            transform: translate(-50%, -50%) scale(0.8);
            background: #d4af37;
        }

        /* Mock Screens (Simplified duplicates of real UI) */
        .mock-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            /* Controlled by script */
            flex-direction: column;
        }

        .mock-screen.active {
            display: flex;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        /* Progress Bar for the "Video" */
        #video-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 5px;
            background: #d4af37;
            width: 0%;
            z-index: 10000;
            transition: width 0.1s linear;
        }

        /* Typing Effect */
        .typing-bubble {
            border-right: 2px solid #d4af37;
            animation: blink 0.7s step-end infinite;
        }

        @keyframes blink {
            50% {
                border-color: transparent;
            }
        }
    </style>
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Montserrat:wght@300;400;500;600&family=Great+Vibes&display=swap"
        rel="stylesheet">
</head>

<body>

    <div id="tutorial-frame">
        <div id="video-progress"></div>
        <div class="fake-cursor" id="cursor" style="display: none;"></div>

        <!-- SCENE 1: LOGIN -->
        <div id="scene-login" class="mock-screen active login-container"
            style="justify-content: center; align-items: center; background: radial-gradient(circle at center, #1a253a 0%, #05080f 100%);">
            <div class="login-logo-anim">
                <i class="fa-solid fa-crown" style="font-size: 3rem; color: #d4af37; margin-bottom: 20px;"></i>
            </div>
            <h1 class="logo-text" style="font-size: 2.5rem; margin-bottom: 40px; color: #d4af37;">KINGDOM</h1>
            <div class="user-cards-container" style="display: flex; gap: 20px;">
                <!-- David Card -->
                <div id="target-david" class="user-card"
                    style="width: 120px; height: 160px; background: rgba(255,255,255,0.05); border: 1px solid rgba(212,175,55,0.3); border-radius: 15px; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative;">
                    <div class="profile-img-container"
                        style="width: 60px; height: 60px; border-radius: 50%; background: #333; margin-bottom: 10px; overflow: hidden; border: 2px solid #d4af37;">
                        <!-- Placeholder Avatar -->
                        <div
                            style="width: 100%; height: 100%; background: #1a1a1a; display: flex; align-items: center; justify-content: center; color: #666;">
                            <i class="fa-solid fa-user"></i></div>
                    </div>
                    <div class="user-name playfair-italic" style="color: #eee;">David</div>
                </div>
                <!-- Aviya Card (Faded) -->
                <div class="user-card"
                    style="width: 120px; height: 160px; background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.1); border-radius: 15px; display: flex; flex-direction: column; align-items: center; justify-content: center; opacity: 0.5;">
                    <div class="profile-img-container"
                        style="width: 60px; height: 60px; border-radius: 50%; background: #333; margin-bottom: 10px;">
                    </div>
                    <div class="user-name playfair-italic" style="color: #aaa;">Aviya</div>
                </div>
            </div>
        </div>

        <!-- SCENE 2: HOME -->
        <div id="scene-home" class="mock-screen"
            style="background: linear-gradient(135deg, #0f172a 0%, #000000 100%); padding-top: 50px;">
            <!-- Header -->
            <div style="padding: 20px; text-align: center;">
                <h2 class="playfair-italic" style="color: #d4af37; font-size: 1.5rem;">Good Evening</h2>
                <div style="font-size: 3rem; font-weight: 200; color: white; margin: 10px 0;">20:42</div>
            </div>

            <!-- Features Grid Mock -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 20px;">
                <div style="background: rgba(255,255,255,0.05); height: 100px; border-radius: 15px;"></div>
                <div style="background: rgba(255,255,255,0.05); height: 100px; border-radius: 15px;"></div>
                <div
                    style="background: rgba(255,255,255,0.05); height: 180px; grid-column: span 2; border-radius: 15px; display: flex; align-items: center; justify-content: center; color: rgba(255,255,255,0.2);">
                    Recent Memories
                </div>
            </div>

            <!-- Navbar -->
            <div class="glass-nav"
                style="position: absolute; bottom: 20px; left: 20px; right: 20px; height: 70px; background: rgba(20,20,20,0.8); border-radius: 35px; display: flex; justify-content: space-around; align-items: center; border: 1px solid rgba(255,255,255,0.1);">
                <i class="fa-solid fa-house nav-icon active" style="color: #d4af37;"></i>
                <i id="target-chat-nav" class="fa-solid fa-comments nav-icon" style="color: #666;"></i>
                <div class="nav-plus-btn"
                    style="width: 50px; height: 50px; background: #d4af37; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-top: -30px; box-shadow: 0 0 15px rgba(212,175,55,0.5);">
                    <i class="fa-solid fa-plus" style="color: black;"></i>
                </div>
                <i class="fa-solid fa-heart nav-icon" style="color: #666;"></i>
                <i class="fa-solid fa-images nav-icon" style="color: #666;"></i>
            </div>
        </div>

        <!-- SCENE 3: CHAT -->
        <div id="scene-chat" class="mock-screen" style="background: #05080f;">
            <div
                style="padding: 20px; display: flex; align-items: center; border-bottom: 1px solid rgba(255,255,255,0.1);">
                <div
                    style="width: 40px; height: 40px; background: #333; border-radius: 50%; margin-right: 15px; border: 1px solid #d4af37;">
                </div>
                <div style="color: white; font-weight: bold;">Aviya ‚ù§Ô∏è</div>
            </div>

            <div id="chat-mock-history"
                style="flex: 1; padding: 20px; display: flex; flex-direction: column; gap: 15px;">
                <!-- Received Message -->
                <div
                    style="align-self: flex-start; background: rgba(255,255,255,0.1); padding: 10px 15px; border-radius: 15px 15px 15px 0; max-width: 70%; color: #eee;">
                    Hey baby! Miss you üòò
                </div>
            </div>

            <!-- Input Area -->
            <div style="padding: 15px; background: rgba(0,0,0,0.5); display: flex; gap: 10px; align-items: center;">
                <div id="target-input"
                    style="flex: 1; height: 40px; background: rgba(255,255,255,0.1); border-radius: 20px; padding: 0 15px; display: flex; align-items: center; color: white;">
                    <span id="typing-text" class="typing-bubble"></span>
                </div>
                <div id="target-send"
                    style="width: 40px; height: 40px; background: #d4af37; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                    <i class="fa-solid fa-paper-plane" style="color: black; font-size: 0.9rem;"></i>
                </div>
            </div>
        </div>

        <!-- VIDEO END OVERLAY -->
        <div id="end-overlay"
            style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: black; display: none; align-items: center; justify-content: center; flex-direction: column;">
            <i class="fa-solid fa-crown"
                style="font-size: 4rem; color: #d4af37; margin-bottom: 20px; animation: pulse 2s infinite;"></i>
            <h2 class="playfair-italic" style="color: white;">The Kingdom</h2>
            <button onclick="location.reload()"
                style="margin-top: 30px; padding: 10px 20px; background: transparent; border: 1px solid #d4af37; color: #d4af37; border-radius: 5px; cursor: pointer;">Replay</button>
        </div>

    </div>

    <script>
        // === DIRECTOR SCRIPT ===
        const cursor = document.getElementById('cursor');
        const progressBar = document.getElementById('video-progress');

        // Helper to delay
        const wait = (ms) => new Promise(res => setTimeout(res, ms));

        // Helper to move cursor
        async function moveCursor(xPercent, yPercent, duration = 1000) {
            cursor.style.transition = `top ${duration}ms ease-in-out, left ${duration}ms ease-in-out`;
            cursor.style.left = xPercent + '%';
            cursor.style.top = yPercent + '%';
            await wait(duration);
        }

        // Helper to click
        async function clickEffect() {
            cursor.classList.add('click');
            await wait(150);
            cursor.classList.remove('click');
            await wait(150);
        }

        async function typeText(elementId, text) {
            const el = document.getElementById(elementId);
            for (let char of text) {
                el.innerText += char;
                await wait(50 + Math.random() * 50); // Natural typing variation
            }
        }

        async function startMovie() {
            cursor.style.display = 'block';
            cursor.style.left = '50%';
            cursor.style.top = '110%'; // Start off screen

            // Start Progress
            progressBar.style.transition = 'width 15s linear';
            setTimeout(() => progressBar.style.width = '100%', 100);

            await wait(500);

            // --- SCENE 1: LOGIN ---
            // Move to David
            await moveCursor(30, 50);
            await clickEffect();

            // Transition
            document.getElementById('target-david').style.transform = 'scale(0.95)';
            await wait(200);
            document.getElementById('scene-login').style.display = 'none';
            document.getElementById('scene-home').classList.add('active');

            // --- SCENE 2: HOME ---
            await wait(1000);
            // Move to Chat
            await moveCursor(30, 90);
            await clickEffect();

            document.getElementById('scene-home').style.display = 'none';
            document.getElementById('scene-chat').classList.add('active');

            // --- SCENE 3: CHAT ---
            await wait(800);
            // Move to Input
            await moveCursor(50, 92);
            await clickEffect(); // Focus input

            // Type
            await typeText('typing-text', 'Hey! The new camera is awesome üì∏');
            await wait(500);

            // Move to Send
            await moveCursor(90, 92);
            await clickEffect();

            // Append Message
            const history = document.getElementById('chat-mock-history');
            const newMsg = document.createElement('div');
            newMsg.style.cssText = "align-self: flex-end; background: #d4af37; color: black; padding: 10px 15px; border-radius: 15px 15px 0 15px; max-width: 70%; animation: fadeIn 0.3s forwards;";
            newMsg.innerText = "Hey! The new camera is awesome üì∏";
            history.appendChild(newMsg);
            document.getElementById('typing-text').innerText = ''; // Clear input

            // Pause to admire
            await wait(2000);

            // END
            document.getElementById('end-overlay').style.display = 'flex';
            document.getElementById('end-overlay').style.animation = 'fadeIn 1s';
            cursor.style.display = 'none';
        }

        // Auto Start
        window.addEventListener('load', () => {
            setTimeout(startMovie, 500);
        });

    </script>
</body>

</html>