<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kingdom App - הסיור המלא</title>
    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;700&family=Playfair+Display:wght@700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        body {
            margin: 0;
            background: #050505;
            overflow: hidden;
            font-family: 'Rubik', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            color: white;
        }

        #tour-frame {
            width: 100%;
            max-width: 420px;
            height: 100vh;
            max-height: 880px;
            position: relative;
            background: #000;
            box-shadow: 0 0 80px rgba(184, 134, 11, 0.15);
            border-radius: 0;
            overflow: hidden;
        }

        /* --- VISUALS --- */
        .slide-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transform: scale(1.05);
            transition: opacity 0.8s ease, transform 6s linear;
        }

        .slide-layer.active {
            opacity: 1;
            transform: scale(1.0);
            /* Zoom Out Effect */
        }

        .dark-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 60%;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.95) 10%, rgba(0, 0, 0, 0.6) 50%, transparent 100%);
            pointer-events: none;
        }

        /* --- TEXT CONTENT --- */
        .info-box {
            position: absolute;
            bottom: 50px;
            right: 20px;
            left: 20px;
            text-align: right;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s cubic-bezier(0.22, 1, 0.36, 1);
            z-index: 10;
        }

        .info-box.show {
            opacity: 1;
            transform: translateY(0);
        }

        h2 {
            color: #d4af37;
            font-size: 28px;
            margin: 0 0 10px 0;
            font-weight: 700;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        p {
            color: #e0e0e0;
            font-size: 16px;
            line-height: 1.6;
            margin: 0 0 15px 0;
            font-weight: 300;
        }

        .feature-tag {
            display: inline-block;
            background: rgba(212, 175, 55, 0.2);
            border: 1px solid rgba(212, 175, 55, 0.5);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            color: #d4af37;
            margin-top: 5px;
        }

        /* --- PROGRESS BARS --- */
        .stories-nav {
            position: absolute;
            top: 15px;
            left: 10px;
            right: 10px;
            display: flex;
            gap: 4px;
            z-index: 20;
            direction: ltr;
            /* Bars go L to R */
        }

        .bar-bg {
            flex: 1;
            height: 3px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            overflow: hidden;
        }

        .bar-fill {
            height: 100%;
            background: #fff;
            width: 0%;
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
        }

        /* --- CONTROLS --- */
        .tap-zone {
            position: absolute;
            top: 0;
            height: 100%;
            width: 40%;
            z-index: 15;
            cursor: pointer;
        }

        .left-zone {
            left: 0;
        }

        .right-zone {
            right: 0;
        }

        .play-btn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 60px;
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            z-index: 30;
            transition: transform 0.2s;
        }

        .play-btn:hover {
            transform: translate(-50%, -50%) scale(1.1);
        }

        .sound-toggle {
            position: absolute;
            top: 30px;
            left: 20px;
            color: rgba(255, 255, 255, 0.7);
            z-index: 25;
            cursor: pointer;
            font-size: 18px;
        }
    </style>
</head>

<body>

    <div id="tour-frame">
        <!-- Audio Player (Hidden) -->
        <audio id="bg-music" loop>
            <source src="tutorial_assets/music.mp3" type="audio/mpeg">
        </audio>

        <!-- Progress -->
        <div class="stories-nav" id="story-bars"></div>

        <!-- Slides -->
        <div id="slides-container"></div>
        <div class="dark-overlay"></div>

        <!-- Start Button -->
        <div id="start-btn" class="play-btn" onclick="startTour()">
            <i class="fa-solid fa-circle-play"></i>
        </div>

        <!-- Sound Toggle -->
        <div class="sound-toggle" onclick="toggleSound()">
            <i class="fa-solid fa-volume-xmark" id="sound-icon"></i>
        </div>

        <!-- Text -->
        <div class="info-box" id="info-box">
            <h2 id="slide-title">כותרת</h2>
            <p id="slide-desc">תיאור</p>
            <div id="slide-tag" class="feature-tag">פיצ'ר מרכזי</div>
        </div>

        <!-- Tap Control -->
        <div class="tap-zone left-zone" onclick="prevSlide()"></div>
        <div class="tap-zone right-zone" onclick="nextSlide(true)"></div>
    </div>

    <script>
        // --- 1. CONFIGURATION ---
        // Here we map your screenshots to the story
        const slides = [
            {
                img: 'tutorial_assets/intro.png',
                title: "ברוכים הבאים ל-KINGDOM",
                desc: "המערכת האקסקלוסיבית לניהול זיכרונות ותקשורת. עיצוב יוקרתי, חוויה חלקה, ופרטיות מוחלטת.",
                tag: "Start Journey"
            },
            {
                img: 'tutorial_assets/WhatsApp%20Image%202026-01-08%20at%2019.29.11.jpeg',
                title: "מסך הבית (Home)",
                desc: "מרכז השליטה שלך. כאן תראה ברכות אישיות המשתנות לפי שעות היום, גישה מהירה להודעות אחרונות, וסטטוס ההתראות שלך.",
                tag: "Dashboard"
            },
            {
                img: 'tutorial_assets/WhatsApp%20Image%202026-01-08%20at%2019.29.11%20(1).jpeg',
                title: "הצ'אט הפרטי",
                desc: "תקשורת מאובטחת ומהירה. שלח הודעות, תמונות ורגשות בזמן אמת עם עיצוב נקי וברור.",
                tag: "Communication"
            },
            {
                img: 'tutorial_assets/WhatsApp%20Image%202026-01-08%20at%2019.29.11%20(2).jpeg',
                title: "מצלמה ופילטרים",
                desc: "לכוד רגעים מיוחדים עם מצלמת ה-AI המשודרגת. פילטרים בזמן אמת, אפקטים קולנועיים וכפתור שיתוף מהיר לסטורי.",
                tag: "Camera + Filters"
            },
            {
                img: 'tutorial_assets/WhatsApp%20Image%202026-01-08%20at%2019.29.11%20(3).jpeg',
                title: "מערכת המשחקים",
                desc: "זמן איכות משותף. גלגל ההחלטות יעזור לכם לבחור מה עושים היום, לצד משחקים אינטראקטיביים נוספים.",
                tag: "Gamification"
            },
            {
                img: 'tutorial_assets/WhatsApp%20Image%202026-01-08%20at%2019.29.11%20(4).jpeg',
                title: "גלריית הזיכרונות",
                desc: "כל הרגעים היפים במקום אחד. ארכיון חכם השומר את התמונות והחוויות שלכם לנצח.",
                tag: "Archive"
            },
            {
                img: 'tutorial_assets/WhatsApp%20Image%202026-01-08%20at%2019.29.11%20(5).jpeg',
                title: "אזור אישי",
                desc: "ניהול הפרופיל, הגדרות פרטיות, והתאמה אישית של האפליקציה לצרכים שלך.",
                tag: "Settings"
            }
        ];

        // --- 2. ENGINE ---
        let currentIndex = 0;
        let timer;
        let isPlaying = false;
        const SLIDE_DURATION = 5000;
        const music = document.getElementById('bg-music');

        function init() {
            const container = document.getElementById('slides-container');
            const bars = document.getElementById('story-bars');

            slides.forEach((slide, i) => {
                // Image Layer
                const div = document.createElement('div');
                div.className = 'slide-layer';
                div.style.backgroundImage = `url('${slide.img}')`;
                container.appendChild(div);

                // Progress Bar
                const barWrapper = document.createElement('div');
                barWrapper.className = 'bar-bg';
                const barFill = document.createElement('div');
                barFill.className = 'bar-fill';
                barFill.id = `fill-${i}`;
                barWrapper.appendChild(barFill);
                bars.appendChild(barWrapper);
            });

            // Show intro text manually if not started
            updateText(0);
        }

        function startTour() {
            document.getElementById('start-btn').style.display = 'none';
            isPlaying = true;

            // Try to play music (might be blocked by browser policy without interaction)
            music.volume = 0.5;
            music.play().then(() => {
                document.getElementById('sound-icon').className = 'fa-solid fa-volume-high';
            }).catch(e => console.log("Audio autoplay blocked"));

            showSlide(0);
        }

        function showSlide(index) {
            clearTimeout(timer);
            currentIndex = index;

            // 1. Visuals
            const layers = document.querySelectorAll('.slide-layer');
            layers.forEach(l => l.classList.remove('active'));
            layers[index].classList.add('active');

            // 2. Text Animation
            const box = document.getElementById('info-box');
            box.classList.remove('show');
            setTimeout(() => {
                updateText(index);
                box.classList.add('show');
            }, 400);

            // 3. Bars
            slides.forEach((_, i) => {
                const f = document.getElementById(`fill-${i}`);
                f.style.transition = 'none';
                f.style.width = i < index ? '100%' : '0%';
            });

            // Animate Current Bar
            const curr = document.getElementById(`fill-${index}`);
            // Force Reflow
            void curr.offsetWidth;
            curr.style.transition = `width ${SLIDE_DURATION}ms linear`;
            curr.style.width = '100%';

            // 4. Timer
            if (index < slides.length - 1) {
                timer = setTimeout(() => nextSlide(), SLIDE_DURATION);
            } else {
                // End
                // setTimeout(() => document.getElementById('start-btn').style.display = 'block', SLIDE_DURATION);
            }
        }

        function updateText(i) {
            document.getElementById('slide-title').innerText = slides[i].title;
            document.getElementById('slide-desc').innerText = slides[i].desc;
            document.getElementById('slide-tag').innerText = slides[i].tag;
        }

        function nextSlide(manual = false) {
            if (!isPlaying && manual) startTour();
            if (currentIndex < slides.length - 1) {
                showSlide(currentIndex + 1);
            }
        }

        function prevSlide() {
            if (currentIndex > 0) {
                showSlide(currentIndex - 1);
            }
        }

        function toggleSound() {
            if (music.paused) {
                music.play();
                document.getElementById('sound-icon').className = 'fa-solid fa-volume-high';
            } else {
                music.pause();
                document.getElementById('sound-icon').className = 'fa-solid fa-volume-xmark';
            }
        }

        // Init
        window.onload = init;

    </script>
</body>

</html>